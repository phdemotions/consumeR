% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/categorical_tests.R
\name{chisq_test}
\alias{chisq_test}
\title{Chi-Square Test of Independence with Effect Size}
\usage{
chisq_test(data = NULL, x, y, correct = TRUE, simulate_p = FALSE, B = 2000)
}
\arguments{
\item{data}{Data frame (optional if x and y are vectors)}

\item{x}{Character (column name) or vector (first categorical variable)}

\item{y}{Character (column name) or vector (second categorical variable)}

\item{correct}{Logical. Apply Yates' continuity correction for 2×2 tables? (default TRUE)}

\item{simulate_p}{Logical. Use Monte Carlo simulation for p-value? (default FALSE)}

\item{B}{Integer. Number of Monte Carlo replicates if simulate_p = TRUE (default 2000)}
}
\value{
A list with class "chisq_result" containing:
\itemize{
  \item \code{chisq}: Chi-square statistic
  \item \code{df}: Degrees of freedom
  \item \code{p_value}: P-value
  \item \code{cramers_v}: Cramér's V effect size
  \item \code{effect_interp}: Effect size interpretation
  \item \code{observed}: Observed frequencies table
  \item \code{expected}: Expected frequencies table
  \item \code{residuals}: Standardized residuals
  \item \code{cells_low_expected}: Cells with expected count < 5
  \item \code{use_fisher}: Recommendation to use Fisher's exact if needed
  \item \code{interpretation}: Publication-ready text
}
}
\description{
Conducts chi-square test of independence for contingency tables with
Cramér's V effect size and standardized residuals. Publication-ready
output for JCP standards.
}
\details{
**Cramér's V Effect Size:**
- For 2×2 tables: V = √(χ²/n)
- For larger tables: V = √(χ²/(n × min(rows-1, cols-1)))
- Interpretation: 0.10 = small, 0.30 = medium, 0.50 = large

**Assumptions:**
- Expected frequency ≥ 5 in all cells (for 2×2)
- Expected frequency ≥ 5 in 80% of cells (for larger tables)
- If violated, use Fisher's exact test instead

**Yates' Correction:**
- Applied by default for 2×2 tables
- Makes test more conservative (reduces Type I error)
- Can turn off with correct = FALSE
}
\examples{
\dontrun{
# From data frame
result <- chisq_test(
  data = customer_data,
  x = "condition",
  y = "purchased"
)

# From vectors
condition <- c(rep("A", 50), rep("B", 50))
purchased <- c(rep(c("yes", "no"), each = 25),
               rep(c("yes", "no"), c(35, 15)))
result <- chisq_test(x = condition, y = purchased)

print(result)
}

}
