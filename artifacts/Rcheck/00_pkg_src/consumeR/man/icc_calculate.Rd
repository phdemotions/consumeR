% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mlm.R
\name{icc_calculate}
\alias{icc_calculate}
\title{Calculate Intraclass Correlation Coefficient}
\usage{
icc_calculate(model, data = NULL)
}
\arguments{
\item{model}{Either a fitted \code{mlm_result} object from \code{run_mlm()}
or a formula for an unconditional model (intercept-only with random
intercept).}

\item{data}{Data frame (required if \code{model} is a formula).}
}
\value{
List with ICC values and interpretation:
  \describe{
    \item{icc}{Named vector of ICC for each grouping factor}
    \item{interpretation}{Text describing clustering level}
    \item{variance_components}{Tibble of variance decomposition}
  }
}
\description{
Calculate ICC for a multilevel model or unconditional (null) model. ICC
quantifies the proportion of variance in the outcome that is due to
grouping. Justifies the need for multilevel modeling.
}
\details{
ICC represents the proportion of total variance attributable to between-group
differences. It is calculated as:

ICC = sigma^2_between / (sigma^2_between + sigma^2_within)

**Interpretation Guidelines**:
\itemize{
  \item ICC < 0.05: Minimal clustering, MLM may not be necessary
  \item ICC 0.05-0.10: Moderate clustering, MLM recommended
  \item ICC > 0.10: Substantial clustering, MLM required
}
}
\examples{
\dontrun{
# Calculate ICC from unconditional model
icc <- icc_calculate(satisfaction ~ (1 | store_id), data = mydata)
print(icc)

# Or from fitted model
model <- run_mlm(satisfaction ~ price + (1 | store_id), data = mydata)
icc <- icc_calculate(model)
}

}
