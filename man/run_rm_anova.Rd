% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rm_anova.R
\name{run_rm_anova}
\alias{run_rm_anova}
\title{Repeated Measures ANOVA}
\usage{
run_rm_anova(
  data,
  outcome,
  within,
  between = NULL,
  subject,
  sphericity_correction = c("GG", "HF", "none"),
  type = 3,
  detailed = TRUE
)
}
\arguments{
\item{data}{A data frame in long format with one row per observation}

\item{outcome}{Character; name of the dependent variable}

\item{within}{Character vector; name(s) of within-subjects factor(s)}

\item{between}{Character vector; name(s) of between-subjects factor(s) (optional)}

\item{subject}{Character; name of the subject ID variable}

\item{sphericity_correction}{Character; correction method if sphericity is violated:
"none" (no correction), "GG" (Greenhouse-Geisser, default), "HF" (Huynh-Feldt)}

\item{type}{Type of sums of squares: 2 or 3 (default: 3 for Type III)}

\item{detailed}{Logical; return detailed output with sphericity tests (default: TRUE)}
}
\value{
A list of class "rm_anova" containing:
  - anova_table: Main ANOVA results with F, p, and partial eta-squared
  - sphericity: Mauchly's test results (if applicable)
  - corrections: Greenhouse-Geisser and Huynh-Feldt epsilon values
  - assumptions: Assumption check results
  - descriptives: Marginal means by condition
  - interpretation: Publication-ready text
}
\description{
Performs repeated measures ANOVA for within-subjects and mixed designs.
This is essential for experimental consumer research where the same participants
are measured at multiple time points or under multiple conditions.
}
\details{
**Within-Subjects Designs:**
- Tests whether means differ across repeated measures
- Assumes sphericity (equal variances of differences between all pairs)
- Greenhouse-Geisser correction if sphericity violated (ε < 0.75)
- Huynh-Feldt correction if sphericity mildly violated (ε > 0.75)

**Mixed Designs:**
- Combines within-subjects and between-subjects factors
- Tests main effects and interactions
- Sphericity assumption only applies to within-subjects factors

**Effect Sizes:**
- Partial eta-squared (ηp²): Proportion of variance explained
- Small: 0.01, Medium: 0.06, Large: 0.14

**For JCP Publications:**
- Always report sphericity test results
- Report which correction was used (if any)
- Report partial eta-squared
- Follow up significant effects with post-hoc tests
}
\examples{
# Within-subjects design: Satisfaction across 3 time points
set.seed(42)
df <- expand.grid(
  subject = 1:30,
  time = c("Before", "During", "After")
)
df$satisfaction <- rnorm(nrow(df), mean = 5 + as.numeric(factor(df$time)), sd = 1)

result <- run_rm_anova(
  data = df,
  outcome = "satisfaction",
  within = "time",
  subject = "subject"
)
print(result)

# Mixed design: Time (within) × Condition (between)
df$condition <- rep(c("Control", "Treatment"), each = 45)
result <- run_rm_anova(
  data = df,
  outcome = "satisfaction",
  within = "time",
  between = "condition",
  subject = "subject"
)
}
\references{
Greenhouse, S. W., & Geisser, S. (1959). On methods in the analysis of
profile data. Psychometrika, 24(2), 95-112.

Huynh, H., & Feldt, L. S. (1976). Estimation of the Box correction for
degrees of freedom from sample data in randomized block and split-plot designs.
Journal of Educational Statistics, 1(1), 69-82.
}
