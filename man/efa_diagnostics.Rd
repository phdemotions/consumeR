% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/psychometrics.R
\name{efa_diagnostics}
\alias{efa_diagnostics}
\title{EFA Diagnostics: KMO, Bartlett's Test, Parallel Analysis}
\usage{
efa_diagnostics(df_items, n_obs = NULL, fa_method = "ml")
}
\arguments{
\item{df_items}{Data frame containing only the items to be factor analyzed
(all columns must be numeric)}

\item{n_obs}{Integer. Sample size (if df_items is a correlation matrix).
If df_items is a data frame, this is ignored and nrow(df_items) is used.}

\item{fa_method}{Character. Factor analysis method for parallel analysis:
"ml" (maximum likelihood, default), "minres", "pa" (principal axis)}
}
\value{
A list with class "efa_diagnostics" containing:
\itemize{
  \item \code{kmo}: KMO results (MSA values, overall KMO)
  \item \code{bartlett}: Bartlett's test results (chi-square, df, p-value)
  \item \code{parallel}: Parallel analysis results (suggested factors/components)
  \item \code{suitable}: Logical indicating if data suitable for EFA
  \item \code{interpretation}: Plain English interpretation
}
}
\description{
Runs comprehensive pre-EFA diagnostics to assess whether data is suitable
for factor analysis. Includes Kaiser-Meyer-Olkin (KMO) measure, Bartlett's
test of sphericity, and parallel analysis for determining number of factors.
}
\details{
**Kaiser-Meyer-Olkin (KMO):**
- Measures sampling adequacy
- Overall KMO ≥ 0.80: Excellent
- Overall KMO ≥ 0.70: Good
- Overall KMO ≥ 0.60: Adequate
- Overall KMO < 0.60: Inadequate (factor analysis not recommended)

**Bartlett's Test of Sphericity:**
- Tests if correlation matrix is significantly different from identity matrix
- Significant p-value (p < .05): Good, correlations exist
- Non-significant p: Bad, items don't correlate (factor analysis inappropriate)

**Parallel Analysis:**
- Compares eigenvalues from data to random data
- Determines optimal number of factors to retain
- More accurate than Kaiser criterion (eigenvalue > 1)
}
\examples{
\dontrun{
# Prepare item data
items <- customer_survey[, c("q1", "q2", "q3", "q4", "q5", "q6")]

# Run diagnostics
diagnostics <- efa_diagnostics(items)
print(diagnostics)

# Check suitability
if (diagnostics$suitable) {
  # Proceed with EFA
  efa_result <- perform_efa(items, n_factors = diagnostics$parallel$nfact)
}
}

}
