% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/moderated_mediation.R
\name{moderated_mediation}
\alias{moderated_mediation}
\title{Moderated Mediation Analysis (Hayes PROCESS Models 7, 8, 14)}
\usage{
moderated_mediation(
  data,
  x,
  m,
  y,
  moderator,
  model = c("7", "8", "14"),
  moderator_values = NULL,
  covariates = NULL,
  conf_level = 0.95,
  boot_samples = 5000,
  boot_method = c("bca", "perc", "norm"),
  seed = NULL
)
}
\arguments{
\item{data}{A data frame containing the variables}

\item{x}{Character; name of the independent variable (predictor)}

\item{m}{Character; name of the mediator variable}

\item{y}{Character; name of the dependent variable (outcome)}

\item{moderator}{Character; name of the moderator variable}

\item{model}{Character; which Hayes PROCESS model:
"7" (default): Moderates M->Y path (b path)
"8": Moderates both X->M and M->Y paths (a and b paths)
"14": Moderates X->M path (a path)}

\item{moderator_values}{Numeric vector of moderator values to probe. Default: NULL
(uses mean +/- 1 SD)}

\item{covariates}{Character vector; names of covariates to control for (optional)}

\item{conf_level}{Confidence level for intervals (default: 0.95)}

\item{boot_samples}{Number of bootstrap samples (default: 5000; min 1000)}

\item{boot_method}{Bootstrap CI method: "bca" (default), "perc", or "norm"}

\item{seed}{Random seed for reproducibility (default: NULL)}
}
\value{
A list of class "moderated_mediation" containing:
  - paths: Path coefficients including interaction terms
  - conditional_indirect: Conditional indirect effects at moderator values
  - index_modmed: Index of moderated mediation with bootstrap CI
  - simple_slopes: Simple slopes of moderated paths
  - boot_samples: Number of bootstrap samples used
  - model_type: Which Hayes model was fit
  - interpretation: Publication-ready text
}
\description{
Performs moderated mediation analysis where the indirect effect of X on Y through
M depends on a moderator W. This tests conditional process models as described
by Hayes (2018), allowing researchers to examine when and for whom mediation occurs.
}
\details{
**Hayes PROCESS Models:**

**Model 7** (Moderator on b path, M->Y):
- X -> M (path a)
- M -> Y depends on W (path b + interaction)
- Indirect effect = a x (b + b_3W)
- Index of moderated mediation = a x b_3

**Model 8** (Moderator on both a and b paths):
- X -> M depends on W (path a + interaction)
- M -> Y depends on W (path b + interaction)
- Indirect effect = (a + a_3W) x (b + b_3W)
- Most complex model

**Model 14** (Moderator on a path, X->M):
- X -> M depends on W (path a + interaction)
- M -> Y (path b)
- Indirect effect = (a + a_3W) x b
- Index of moderated mediation = a_3 x b

**Index of Moderated Mediation:**
- Quantifies how much the indirect effect changes per unit of moderator
- Significant index = moderated mediation is present
- Bootstrap CI that excludes zero indicates significance

**Conditional Indirect Effects:**
- Indirect effect at low W (M - 1 SD)
- Indirect effect at mean W
- Indirect effect at high W (M + 1 SD)
- Each with bootstrap CIs

**For JCP Publications:**
- Report index of moderated mediation with bootstrap CI
- Report conditional indirect effects at low/mean/high W
- Report which Hayes model was used
- Visualize conditional indirect effects
- Use 5000+ bootstrap samples
}
\examples{
# Model 7: Trust mediates CSR -> loyalty, moderated by involvement
set.seed(42)
n <- 200
df <- data.frame(
  csr = rnorm(n),
  trust = rnorm(n),
  loyalty = rnorm(n),
  involvement = rnorm(n)
)
# Create moderated mediation structure
df$trust <- df$trust + 0.5 * df$csr
df$loyalty <- df$loyalty + 0.3 * df$trust +
  0.4 * df$involvement + 0.2 * df$trust * df$involvement

result <- moderated_mediation(
  data = df,
  x = "csr",
  m = "trust",
  y = "loyalty",
  moderator = "involvement",
  model = "7",
  boot_samples = 1000,  # Use 5000+ for publication
  seed = 42
)
print(result)
}
\references{
Hayes, A. F. (2018). Introduction to mediation, moderation, and conditional
process analysis: A regression-based approach (2nd ed.). Guilford Press.

Hayes, A. F. (2015). An index and test of linear moderated mediation.
Multivariate Behavioral Research, 50(1), 1-22.
}
