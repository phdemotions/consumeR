
R version 4.3.1 (2023-06-16) -- "Beagle Scouts"
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-apple-darwin20 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
Warning message:
package 'testthat' was built under R version 4.3.3 
> library(consumeR)
> 
> test_check("consumeR")
=============================
Consumer Data Analysis Report
=============================
Generated on: 2026-01-11

SECTION 1: DATA OVERVIEW
--------------------------------------------------
Variable analyzed: Variable
Total observations: 5
Valid observations: 5
Missing values: 0 (0.0%)

SECTION 2: DESCRIPTIVE STATISTICS
--------------------------------------------------
Sample size (n): 5

Central Tendency Measures:
  Mean: 3
  Median: 3

Variability Measures:
  Standard Deviation: 1.58
  Variance: 2.5
  Interquartile Range (IQR): 2

Range:
  Minimum: 1
  Maximum: 5
  Range: 4

Quartiles:
  25th percentile (Q1): 2
  50th percentile (Q2/Median): 3
  75th percentile (Q3): 4

SECTION 4: METHODOLOGICAL NOTES
--------------------------------------------------
For complete transparency and reproducibility, note the following:

1. Missing Value Handling:
   - Missing values (NA) were removed before all calculations
   - 0 out of 5 observations were missing (0.0%)

2. Statistical Methods:
   - Descriptive statistics calculated using base R functions
   - Standard deviation uses n-1 denominator (sample SD)

3. Software:
   - R version: R version 4.3.1 (2023-06-16)
   - Package: consumeR

==================================================
END OF REPORT
================================================== 
=============================
Consumer Data Analysis Report
=============================
Generated on: 2026-01-11

SECTION 1: DATA OVERVIEW
--------------------------------------------------
Variable analyzed: Variable
Total observations: 5
Valid observations: 5
Missing values: 0 (0.0%)

SECTION 2: DESCRIPTIVE STATISTICS
--------------------------------------------------
Sample size (n): 5

Central Tendency Measures:
  Mean: 3
  Median: 3

Variability Measures:
  Standard Deviation: 1.58
  Variance: 2.5
  Interquartile Range (IQR): 2

Range:
  Minimum: 1
  Maximum: 5
  Range: 4

Quartiles:
  25th percentile (Q1): 2
  50th percentile (Q2/Median): 3
  75th percentile (Q3): 4

SECTION 4: METHODOLOGICAL NOTES
--------------------------------------------------
For complete transparency and reproducibility, note the following:

1. Missing Value Handling:
   - Missing values (NA) were removed before all calculations
   - 0 out of 5 observations were missing (0.0%)

2. Statistical Methods:
   - Descriptive statistics calculated using base R functions
   - Standard deviation uses n-1 denominator (sample SD)

3. Software:
   - R version: R version 4.3.1 (2023-06-16)
   - Package: consumeR

==================================================
END OF REPORT
================================================== 
Parallel analysis suggests that the number of factors =  2  and the number of components =  2 
Parallel analysis suggests that the number of factors =  2  and the number of components =  2 
Parallel analysis suggests that the number of factors =  1  and the number of components =  1 
|Variable     |     Mean|       SD|
|:------------|--------:|--------:|
|Age          |    34.57|     8.32|
|Income       | 65432.10| 15234.70|
|Satisfaction |     7.23|     1.46|

=== TSV TABLE (Copy-Paste Ready) ===
Select the text below and copy (Ctrl+C or Cmd+C):
---
Variable	Mean	SD
Age	34.57	8.32
Income	65432.1	15234.7
Satisfaction	7.23	1.46 
---
Then paste into Excel, Google Sheets, or other spreadsheet software.

[ FAIL 29 | WARN 33 | SKIP 2 | PASS 810 ]

== Skipped tests (2) ===========================================================
* Manual test: unload knitr and verify error (1):
  'test-table_formatting.R:48:3'
* rm_anova tests skipped due to car::Anova() incompatibility with aovlist (1):
  'test-rm_anova.R:5:1'

== Failed tests ================================================================
-- Failure ('test-composite_scoring.R:40:3'): reverse_score_likert non-strict mode warns and preserves --
`result <- reverse_score_likert(x, strict = FALSE)` produced unexpected warnings.
Expected match: out of range
Actual values:
* 1 value(s) outside [1, 7] range. These will not be reverse scored: 8
-- Failure ('test-composite_scoring.R:361:3'): add_composite adds column correctly --
result$satisfaction not equal to c(6, 7, 8).
Attributes: < Modes: list, NULL >
Attributes: < Lengths: 1, 0 >
Attributes: < names for target but not for current >
Attributes: < current is not list-like >
-- Failure ('test-composite_scoring.R:394:3'): add_composite passes arguments to score_composite --
result$attitude not equal to c(21, 18).
Attributes: < Modes: list, NULL >
Attributes: < Lengths: 1, 0 >
Attributes: < names for target but not for current >
Attributes: < current is not list-like >
-- Failure ('test-group_tests.R:114:3'): test_group_differences auto-selects appropriate test --
`... <- NULL` produced unexpected messages.
Expected match: Wilcoxon
Actual values:
* 
Checking statistical assumptions...

* Assumption checks complete. See 'assumptions' element in results for details.


* Auto-selection: Using t-test (assumptions met)

-- Failure ('test-interactions.R:194:3'): johnson_neyman rejects categorical moderator --
`johnson_neyman(model, focal = "x", moderator = "w")` threw an error with unexpected message.
Expected match: "requires continuous moderator"
Actual message: "Model does not contain interaction between 'x' and 'w'"
Backtrace:
    x
 1. +-testthat::expect_error(...) at test-interactions.R:194:3
 2. | \-testthat:::quasi_capture(...)
 3. |   +-testthat (local) .capture(...)
 4. |   | \-base::withCallingHandlers(...)
 5. |   \-rlang::eval_bare(quo_get_expr(.quo), quo_get_env(.quo))
 6. \-consumeR::johnson_neyman(model, focal = "x", moderator = "w")
 7.   \-rlang::abort(...)
-- Failure ('test-logistic_regression.R:223:3'): logistic_assumptions detects influential cases --
checks$influential$n_influential is not strictly more than 0. Difference: 0
-- Failure ('test-logistic_regression.R:256:3'): logistic_assumptions checks separation --
checks$separation$pass is not FALSE

`actual`:   TRUE 
`expected`: FALSE
-- Failure ('test-logistic_regression.R:257:3'): logistic_assumptions checks separation --
length(checks$separation$large_coefs) is not strictly more than 0. Difference: 0
-- Failure ('test-mediation.R:440:3'): mediation_simple handles categorical independent variable --
Expected `... <- NULL` to run without any errors.
i Actually got a <subscriptOutOfBoundsError> with text:
  subscript out of bounds
-- Error ('test-mlm.R:21:3'): run_mlm works with random intercept model --------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x + (1 | group), data = df) at test-mlm.R:21:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:56:3'): run_mlm works with random slope model ------------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x + (x | group), data = df) at test-mlm.R:56:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:102:3'): run_mlm calculates ICC correctly ----------------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ 1 + (1 | group), data = df) at test-mlm.R:102:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:129:3'): run_mlm works with crossed random effects -------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(...) at test-mlm.R:129:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:148:3'): run_mlm extracts fixed effects correctly --------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x + (1 | group), data = df) at test-mlm.R:148:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:173:3'): run_mlm extracts random effects correctly -------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ 1 + (1 | group), data = df) at test-mlm.R:173:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:198:3'): run_mlm supports REML and ML estimation ---------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x + (1 | group), data = df, REML = TRUE) at test-mlm.R:198:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:220:3'): run_mlm generates interpretation ----------------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x + (1 | group), data = df) at test-mlm.R:220:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:262:3'): icc_calculate works with mlm_result -------------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ 1 + (1 | group), data = df) at test-mlm.R:262:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:313:3'): tidy_mlm extracts results correctly -------------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x + (1 | group), data = df) at test-mlm.R:313:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:341:3'): tidy_mlm respects component selection -----------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ 1 + (1 | group), data = df) at test-mlm.R:341:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:361:3'): mlm_assumptions checks residuals normality ------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ 1 + (1 | group), data = df) at test-mlm.R:361:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:390:3'): print.mlm_result works --------------------------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x + (1 | group), data = df) at test-mlm.R:390:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:417:3'): run_mlm handles multiple predictors -------------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x1 + x2 + x3 + (1 | group), data = df) at test-mlm.R:417:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:448:3'): run_mlm works with nested random effects --------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ 1 + (1 | region/store), data = df) at test-mlm.R:448:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Error ('test-mlm.R:470:3'): run_mlm significance flags are correct ----------
Error in `lmerTest::as_lmerModLmerTest(fit)`: Unable to extract deviance function from model fit
Backtrace:
    x
 1. \-consumeR::run_mlm(y ~ x1 + x2 + (1 | group), data = df) at test-mlm.R:470:3
 2.   \-consumeR:::extract_mlm_fixed(fit)
 3.     +-base::summary(lmerTest::as_lmerModLmerTest(fit))
 4.     \-lmerTest::as_lmerModLmerTest(fit)
-- Failure ('test-multiple_mediators.R:338:3'): mediation_serial calculates pathway-specific effects --
any(grepl("m1.*<U+2192>.*y", specific$pathway, ignore.case = TRUE)) is not TRUE

`actual`:   FALSE
`expected`: TRUE 
-- Failure ('test-multiple_mediators.R:339:3'): mediation_serial calculates pathway-specific effects --
any(grepl("m2.*<U+2192>.*y", specific$pathway, ignore.case = TRUE)) is not TRUE

`actual`:   FALSE
`expected`: TRUE 
-- Failure ('test-multiple_mediators.R:340:3'): mediation_serial calculates pathway-specific effects --
any(...) is not TRUE

`actual`:   FALSE
`expected`: TRUE 
-- Failure ('test-multiple_mediators.R:614:3'): mediation_serial total equals sum of pathway effects --
`sum_pathways` not equal to `total`.
names for current but not for target

[ FAIL 29 | WARN 33 | SKIP 2 | PASS 810 ]
Error: Test failures
Execution halted
