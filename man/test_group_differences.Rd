% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/group_tests.R
\name{test_group_differences}
\alias{test_group_differences}
\title{Test for Differences Between Consumer Groups}
\usage{
test_group_differences(
  group1,
  group2,
  test_type = "auto",
  alternative = "two.sided",
  conf_level = 0.95,
  paired = FALSE,
  check_assumptions = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{group1}{A numeric vector containing data for the first group.
For example, spending amounts for treatment group consumers.}

\item{group2}{A numeric vector containing data for the second group.
For example, spending amounts for control group consumers.}

\item{test_type}{Character string specifying which test to use.
Options are: "t.test" for Student's t-test (assumes normal distribution),
"wilcoxon" for Wilcoxon rank-sum test (non-parametric), or
"auto" to automatically choose based on sample size (default).}

\item{alternative}{Character string specifying the alternative hypothesis.
Options are "two.sided" (default), "greater", or "less".}

\item{conf_level}{Numeric. Confidence level for the interval. Default is 0.95
(95\% confidence).}

\item{paired}{Logical. Are the observations paired? Default is FALSE.}

\item{check_assumptions}{Logical. Should assumptions be tested? Default is TRUE.
When TRUE, tests for normality and homogeneity of variance are performed
and results are included in output.}

\item{verbose}{Logical. Should detailed explanations be provided? Default is TRUE.
When TRUE, includes verbose explanations suitable for learning.}
}
\value{
A list containing: test_used (name of the statistical test performed),
p_value (P-value from the test), significant (logical, TRUE if p < 0.05),
group1_mean, group2_mean, group1_sd, group2_sd, difference (difference between group means),
ci_lower, ci_upper (confidence interval bounds), effect_size (Cohen's d),
effect_interpretation, group1_n, group2_n, interpretation (plain English interpretation),
assumptions (list of assumption check results if check_assumptions = TRUE),
publication_text (publication-ready text block), and full_test_output (complete test results object).
}
\description{
This function compares two groups of consumers to determine if they
are statistically different. It is designed for maximum transparency
during peer review, with clear documentation of every step and assumption.

The function performs either a t-test (for normally distributed data)
or a Wilcoxon test (for non-normal data). All steps are documented
and assumptions are clearly stated.
}
\details{
When test_type = "auto" (default), the function chooses t-test if both groups
have n >= 30 (Central Limit Theorem applies) or Wilcoxon test if either group
has n < 30 (safer for small samples).

For interpreting results: p_value < 0.05 indicates groups are significantly
different (reject null hypothesis); p_value >= 0.05 indicates no significant
difference detected (fail to reject null).
}
\examples{
# Example 1: Compare spending between two groups
treatment_spending <- c(45.2, 67.8, 23.4, 89.1, 34.5, 56.7, 78.9, 12.3)
control_spending <- c(34.1, 45.2, 28.9, 56.3, 41.2, 38.7, 49.1, 31.4)
test_group_differences(treatment_spending, control_spending)

# Example 2: One-sided test (is group 1 greater than group 2?)
satisfaction_a <- c(7, 8, 9, 7, 8, 9, 8, 7)
satisfaction_b <- c(5, 6, 7, 5, 6, 6, 5, 7)
test_group_differences(satisfaction_a, satisfaction_b, alternative = "greater")

# Example 3: Paired observations (before/after measurements)
before <- c(65, 72, 68, 71, 69, 70)
after <- c(62, 68, 65, 69, 66, 67)
test_group_differences(before, after, paired = TRUE)
}
