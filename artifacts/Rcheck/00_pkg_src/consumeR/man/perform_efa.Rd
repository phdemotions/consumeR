% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/factor_analysis.R
\name{perform_efa}
\alias{perform_efa}
\title{Perform Exploratory Factor Analysis with Beautiful Visualizations}
\usage{
perform_efa(
  data,
  items,
  n_factors = NULL,
  rotation = "varimax",
  create_plots = TRUE,
  item_labels = NULL
)
}
\arguments{
\item{data}{A data frame (tibble) containing your survey items}

\item{items}{Character vector of column names for items to analyze}

\item{n_factors}{Integer. Number of factors to extract. If NULL (default),
the function will suggest the optimal number based on eigenvalues.}

\item{rotation}{Character string. Rotation method: "varimax" (default),
"promax", "oblimin", or "none"}

\item{create_plots}{Logical. Should visualizations be created? Default TRUE}

\item{item_labels}{Optional named vector for readable item labels}
}
\value{
A list containing:
  \itemize{
    \item \code{factor_loadings}: Tibble with loadings for each item
    \item \code{scree_plot}: ggplot2 scree plot (if create_plots = TRUE)
    \item \code{loading_plot}: ggplot2 heatmap of loadings
    \item \code{variance_explained}: Tibble showing % variance per factor
    \item \code{interpretation}: Plain English summary
    \item \code{suggested_factors}: Recommended number of factors
  }
}
\description{
This function performs exploratory factor analysis (EFA) to understand the
underlying structure of your survey items. It uses tidyverse principles for
maximum clarity and creates publication-ready ggplot2 visualizations.
}
\details{
Think of EFA like sorting Cloud 9 products into departments - it finds which
items naturally group together based on how people respond to them.


## What is Exploratory Factor Analysis?
EFA identifies groups of items that correlate highly with each other.
Each group represents an underlying "factor" or dimension.

For example, if you have 12 survey questions, EFA might reveal they
actually measure 3 different constructs (e.g., satisfaction, loyalty, value).

## How Many Factors?
The function uses the Kaiser criterion (eigenvalues > 1) to suggest
the number of factors. You can also specify n_factors manually.

## Rotation Methods:
- **varimax**: Assumes factors are uncorrelated (most common)
- **promax**: Allows factors to correlate
- **oblimin**: Another oblique rotation
- **none**: No rotation (harder to interpret)

## Interpreting Loadings:
- Loading > 0.70: Strong relationship
- Loading > 0.50: Moderate relationship
- Loading > 0.30: Weak but acceptable
- Loading < 0.30: Item doesn't belong to this factor
}
\examples{
\dontrun{
# Example: Analyze customer experience survey
# Suppose we have 9 items that might measure 3 dimensions

library(dplyr)
library(ggplot2)

# Run EFA to discover factor structure
efa_results <- perform_efa(
  data = customer_data,
  items = c("q1", "q2", "q3", "q4", "q5", "q6", "q7", "q8", "q9"),
  item_labels = c(
    q1 = "Store cleanliness",
    q2 = "Product selection",
    q3 = "Staff friendliness",
    # ... etc
  )
)

# View the scree plot
print(efa_results$scree_plot)

# View loading heatmap
print(efa_results$loading_plot)

# Get interpretation
cat(efa_results$interpretation)
}

}
